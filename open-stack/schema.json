{
    "archi": {
        "type" : "object",
        "properties": {
            "publicNet": {
                "type" : "object",
                "properties": {
                    "name": {"type": "string"},
                    "cidr": {"type": "string"}
                },
                "required": ["name", "cidr"]
            },
            "networks": {
                "type" : "array",
                "items": {
                    "type" : "object",
                    "properties": {
                        "name": {"type": "string"},
                        "cidr": {"type": "string"}
                    },
                    "required": ["name", "cidr"]
                }
            },
            "machines": {
                "type" : "array",
                "items": {
                    "type" : "object",
                    "properties": {
                        "name": {"type": "string"},
                        "type": {"type": "string"},
                        "version": {"type": "string"},
                        "ips": {
                            "type" : "array",
                            "items": { "type" : "string" },
                            "minLen": 1
                        },
                        "ram": { "type": "integer", "multipleOf" : 512, "minimum": 512, "maximum": 16384},
                        "cpu": { "type": "integer", "minimum": 1, "maximum": 12},
                        "disk": { "type": "integer", "minimum": 10}
                    },
                    "required": ["type", "ips"]
                }
            }
        },
        "required": ["publicNet", "networks", "machines"]
    },
    "static": {
        "type" : "object",
        "properties": {
            "images": {
                "type" : "array",
                "items": {
                    "type" : "object",
                    "properties": {
                        "name": {"type": "string"},
                        "type": {"type": "string"},
                        "version": {"type": "string"},
                        "cloud-init": {"type": "string"},
                        "defaultSsh": {"type": "boolean"},
                        "defaultWinrm": {"type": "boolean"},
                        "ram": { "type": "integer", "multipleOf" : 512, "minimum": 512, "maximum": 16384},
                        "cpu": { "type": "integer", "minimum": 1, "maximum": 12},
                        "disk": { "type": "integer", "minimum": 10}
                    },
                    "required": ["name","type","ram","cpu", "disk"]
                }
            }
        },
        "required": ["images"]
    }
}